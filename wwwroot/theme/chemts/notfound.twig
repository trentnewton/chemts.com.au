{% extends 'layouts/_default.twig' %}
{% setcontent record = 'blocks/404-not-found' %}
{% block title %}
    {{ record.title|default('404 not found') }}
{% endblock title %}
{% block main %}

<main id="main" class="listing-index">
	<div class="row column">
		<article class="callout">
			{# special case: See if we actually want the Styleguide. #}
			{% if app.request.server.get('REQUEST_URI') == '/styleguide' %}
				{{ include('styleguide.twig') }}
			{% else %}
				<h1>{{ record.title|default('404 not found') }}</h1>
				{% if fields(record) %}
					{{ record.content }}
				{% else %}
					<p>
						The requested page was not found.
					</p>
					<div class="primary callout" data-closable>
						<h5>Add a Blocks record with slug '404-not-found' to customize this message. </h5>
						<p>If it's not showing up here, doublecheck that the <tt>slug</tt> is correct, and that the Block is published.</p>
						<button class="close-button" aria-label="Dismiss alert" type="button" data-close>
							<span aria-hidden="true">&times;</span>
						</button>
					</div>
				{% endif %}
			{% endif %}
		</article>
	</div>
</main>

{% endblock main %}